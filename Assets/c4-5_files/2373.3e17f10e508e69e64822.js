"use strict";(globalThis.webpackChunkapp=globalThis.webpackChunkapp||[]).push([[2373],{23309:(e,t,n)=>{n.d(t,{L:()=>r});var o=n(39686),i=n(44802);const r=o.kr9(i.YP)},72373:(e,t,n)=>{n.d(t,{q:()=>D,Z:()=>z});var o={};n.r(o),n.d(o,{load_more_button_label:()=>A});var i=n(24246),r=n(56583),l=n(80715),s=n(78128),c=n(7917),a=n(83116),d=n(68400),h=n(28234),u=n(74903),p=n(75589),f=n(37482),I=n(39544),g=n(49880),S=n(79489),m=n(2562),b=n(39686),O=n(54051),v=n(9538),x=n(30309),P=n(79132),j=n(44802),R=n(86444),y=n(91962),C=n(12003),N=n(45035),Z=n(23309),E=n(13741);n(18905),n(42641),n(53391);const A=()=>"Load more",k=e=>o,q=(0,E.G)(k);function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D=()=>{const e=(0,i.jsx)(b.ZCY,{className:"ATnvl",children:(0,C.zG)(O.w6H(0,17),O.UID((e=>(0,i.jsx)(b.ZCY,{className:"dycl5",children:(0,i.jsx)(b.ZCY,{className:"PwSsU O84oE"})},e))))});return(0,i.jsxs)(b.PRT,{children:[(0,i.jsx)(b.ZCY,{className:S.yC,children:e}),(0,i.jsx)(h.Z,{className:S.ny,children:e})]})},F=(0,N.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:v.HP((()=>(0,i.jsx)(a.Z,{type:"photos"}))),getPlaceholderEl:v.HP((()=>(0,i.jsx)(D,{})))}),G=R.Ue();class T extends b.wA2{constructor(){super(...arguments),w(this,"getInfiniteScrollSetting",(e=>{let{shouldRequireInfiniteScrollOptIn:t}=e;return t?G.mk.OptInRequired({optedIn:!1}):G.mk.Enabled})),w(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),w(this,"toggleInfiniteScrollOptIn",(()=>{const{infiniteScrollSetting:e}=this.state;(0,C.zG)(e,G.match({OptInRequired:e=>{let{optedIn:t}=e;const n=G.mk.OptInRequired({optedIn:(0,y.ff)(t)});this.setState({infiniteScrollSetting:n})},[R._]:C.Q1}))})),w(this,"fetchDataAndBuildActions",(0,r.Z)((e=>(0,C.ls)(e,P.UI((0,C.ls)(I.Yq,p.N.traverseArray(p.We),(e=>{let[t,n]=e;return[(0,c.VA)(n),c.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoSlugs:(0,C.zG)(t,O.UID((e=>e.slug)))})]}))))))),w(this,"createPhotoFeedIdContextValue",(0,r.Z)((e=>j.G(e))))}UNSAFE_componentWillReceiveProps(e){if(e.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){const t=this.getInfiniteScrollSetting(e);this.setState({infiniteScrollSetting:t})}}render(){const{photoFeedOption:e,photosOption:t,children:n,getNoContentEl:o,getPlaceholderEl:r,renderBeneathLoadMoreButton:l,feedId:s,fetchPhotos:c,notifier$:a,intersectionObserverRoot:p,intersectionObserverRootMarginBottom:f,t:I}=this.props,{infiniteScrollSetting:g}=this.state,S=(0,C.zG)(g,G.match({OptInRequired:e=>{let{optedIn:t}=e;return t},Enabled:()=>!0})),O=!1===S;return(0,i.jsx)(Z.L.Provider,{value:this.createPhotoFeedIdContextValue(s),children:(0,i.jsx)(d.f,{renderItems:n,feedItemsOption:t,feedStateOption:e,getScrollFooterEl:()=>(0,i.jsx)(b.ZCY,{className:"rx4AP",children:(0,C.zG)(S,y.EQ({True:()=>(0,i.jsx)(u.Z,{}),False:()=>(0,i.jsxs)(b.PRT,{children:[(0,i.jsx)(h.Z,{className:"gDCZZ",children:(0,i.jsx)(b.zxk,{className:b.Shc((0,m.yO)({type:m.L$.Outline}),"WMIal KHq0c"),onClick:this.toggleInfiniteScrollOptIn,type:"button",children:I.load_more_button_label()})}),l?.()]})}))}),getNoContentEl:o,getPlaceholderEl:r,shouldDisableInfiniteScroll:O,fetchDataAndBuildActions:this.fetchDataAndBuildActions(c),notifier$:a,intersectionObserverRoot:p,intersectionObserverRootMarginBottom:f},(0,x.Vv)(s))})}}const _=(0,f.O)()((()=>{const e=(0,g.XT)(),t=(0,g.u0)();return(n,o)=>({photoFeedOption:e(n,o.feedId),photosOption:t(n,o.feedId)})})),z=(0,C.zG)(T,(0,l.$j)(_),q,(e=>(0,s.b9)(e,F)))}}]);